-- --------------------------------------------------------
-- Host:                         127.0.0.1
-- Versión del servidor:         10.4.19-MariaDB - mariadb.org binary distribution
-- SO del servidor:              Win64
-- HeidiSQL Versión:             11.2.0.6213
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


-- Volcando estructura de base de datos para tp_ecommerce
CREATE DATABASE IF NOT EXISTS `tp_ecommerce` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `tp_ecommerce`;

-- Volcando estructura para procedimiento tp_ecommerce.agregarUsuario
DELIMITER //
CREATE PROCEDURE `agregarUsuario`(IN nomb VARCHAR(40), IN apell VARCHAR(40), IN sex VARCHAR(15), IN telef VARCHAR(40), IN fechaNac DATE, IN mail VARCHAR(40), IN locali int)
BEGIN 

INSERT INTO usuario(nombre, apellido, sexo, telefono, fecha_nacimiento, correo, Id_localidad) 
VALUES (nomb, apell, sex, telef,fechaNac, mail, locali);

END//
DELIMITER ;

-- Volcando estructura para tabla tp_ecommerce.categoria
CREATE TABLE IF NOT EXISTS `categoria` (
  `Id_categoria` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(20) NOT NULL,
  PRIMARY KEY (`Id_categoria`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.categoria: ~6 rows (aproximadamente)
/*!40000 ALTER TABLE `categoria` DISABLE KEYS */;
INSERT INTO `categoria` (`Id_categoria`, `nombre`) VALUES
	(1, 'Calzado Hombre'),
	(2, 'Remera Hombre'),
	(3, 'Pantalon Hombre'),
	(4, 'Calzado Mujer'),
	(5, 'Remera Mujer'),
	(6, 'Pantalon Mujer');
/*!40000 ALTER TABLE `categoria` ENABLE KEYS */;

-- Volcando estructura para procedimiento tp_ecommerce.compraporpais
DELIMITER //
CREATE PROCEDURE `compraporpais`(IN nombrepais VARCHAR(20))
BEGIN

SELECT pais.nombre, producto.nombre AS 'Productos' FROM pais
INNER JOIN provincia ON provincia.Id_pais=pais.Id_pais
INNER JOIN localidad ON localidad.Id_provincia=provincia.Id_provincia
INNER JOIN usuario ON usuario.Id_localidad=localidad.Id_localidad
INNER JOIN compras ON compras.Id_usuario=usuario.Id_usuario
INNER JOIN compras_productos ON compras_productos.Id_compras=compras.Id_compras
INNER JOIN producto ON producto.Id_producto=compras_productos.Id_producto
WHERE pais.nombre=nombrepais;

END//
DELIMITER ;

-- Volcando estructura para tabla tp_ecommerce.compras
CREATE TABLE IF NOT EXISTS `compras` (
  `Id_compras` int(11) NOT NULL AUTO_INCREMENT,
  `Id_usuario` int(11) NOT NULL,
  `Id_forma_de_pago` int(11) NOT NULL,
  `fecha_de_compra` datetime NOT NULL,
  `total_compra` int(11) NOT NULL,
  PRIMARY KEY (`Id_compras`),
  KEY `compras_ibfk_1` (`Id_usuario`),
  KEY `compras_ibfk_2` (`Id_forma_de_pago`),
  CONSTRAINT `compras_ibfk_2` FOREIGN KEY (`Id_forma_de_pago`) REFERENCES `forma_de_pago` (`Id_forma_de_pago`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=324 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.compras: ~319 rows (aproximadamente)
/*!40000 ALTER TABLE `compras` DISABLE KEYS */;
INSERT INTO `compras` (`Id_compras`, `Id_usuario`, `Id_forma_de_pago`, `fecha_de_compra`, `total_compra`) VALUES
	(1, 17, 1, '2020-06-12 00:00:00', 0),
	(2, 62, 2, '2019-03-31 00:00:00', 0),
	(3, 26, 3, '2020-02-23 00:00:00', 0),
	(4, 2, 2, '2020-03-27 00:00:00', 0),
	(5, 14, 2, '2019-01-03 00:00:00', 0),
	(6, 15, 1, '2020-05-03 00:00:00', 0),
	(7, 12, 3, '2019-09-06 00:00:00', 0),
	(8, 9, 4, '2019-10-18 00:00:00', 0),
	(9, 2, 2, '2019-04-01 00:00:00', 0),
	(10, 36, 3, '2020-03-14 00:00:00', 0),
	(11, 28, 3, '2021-04-10 00:00:00', 0),
	(12, 38, 1, '2021-02-08 00:00:00', 0),
	(13, 24, 2, '2019-04-04 00:00:00', 0),
	(14, 58, 1, '2020-09-15 00:00:00', 0),
	(15, 30, 1, '2020-04-24 00:00:00', 0),
	(16, 11, 2, '2019-11-16 00:00:00', 0),
	(17, 41, 2, '2020-09-24 00:00:00', 0),
	(18, 2, 3, '2019-06-12 00:00:00', 0),
	(19, 31, 2, '2019-03-21 00:00:00', 0),
	(20, 16, 1, '2020-03-15 00:00:00', 0),
	(21, 5, 2, '2020-02-20 00:00:00', 0),
	(22, 29, 2, '2020-06-17 00:00:00', 0),
	(23, 7, 3, '2021-04-10 00:00:00', 0),
	(24, 18, 3, '2020-09-12 00:00:00', 0),
	(25, 4, 3, '2020-08-20 00:00:00', 0),
	(26, 32, 4, '2019-08-11 00:00:00', 0),
	(27, 40, 1, '2019-02-04 00:00:00', 0),
	(28, 26, 4, '2019-07-26 00:00:00', 0),
	(29, 22, 3, '2020-04-25 00:00:00', 0),
	(30, 26, 2, '2019-04-04 00:00:00', 0),
	(31, 25, 1, '2019-02-27 00:00:00', 0),
	(32, 23, 3, '2020-12-30 00:00:00', 0),
	(33, 27, 2, '2019-09-12 00:00:00', 0),
	(34, 8, 4, '2020-06-09 00:00:00', 0),
	(35, 19, 3, '2019-12-08 00:00:00', 0),
	(36, 47, 2, '2021-04-20 00:00:00', 0),
	(37, 21, 1, '2021-03-28 00:00:00', 0),
	(38, 5, 3, '2019-09-30 00:00:00', 0),
	(39, 3, 4, '2019-01-21 00:00:00', 0),
	(40, 6, 2, '2019-03-13 00:00:00', 0),
	(41, 20, 4, '2019-09-23 00:00:00', 0),
	(42, 10, 3, '2019-09-14 00:00:00', 0),
	(43, 39, 1, '2020-01-01 00:00:00', 0),
	(44, 11, 1, '2020-04-10 00:00:00', 0),
	(45, 11, 1, '2021-05-11 00:00:00', 0),
	(46, 37, 3, '2021-02-13 00:00:00', 0),
	(47, 13, 4, '2020-02-09 00:00:00', 0),
	(48, 13, 3, '2020-01-04 00:00:00', 0),
	(49, 53, 3, '2020-05-08 00:00:00', 0),
	(50, 15, 3, '2020-12-22 00:00:00', 0),
	(51, 4, 4, '2019-03-03 00:00:00', 0),
	(52, 27, 4, '2019-12-31 00:00:00', 0),
	(53, 41, 2, '2020-05-30 00:00:00', 0),
	(54, 22, 1, '2020-07-08 00:00:00', 0),
	(55, 57, 3, '2019-02-10 00:00:00', 0),
	(56, 10, 4, '2019-02-28 00:00:00', 0),
	(57, 59, 1, '2021-05-12 00:00:00', 0),
	(58, 50, 3, '2021-01-12 00:00:00', 0),
	(59, 1, 3, '2020-12-17 00:00:00', 0),
	(60, 36, 2, '2020-08-16 00:00:00', 0),
	(61, 33, 3, '2019-05-13 00:00:00', 0),
	(62, 42, 3, '2019-06-09 00:00:00', 0),
	(63, 25, 1, '2020-02-29 00:00:00', 0),
	(64, 34, 2, '2019-03-03 00:00:00', 0),
	(65, 35, 3, '2019-08-12 00:00:00', 0),
	(66, 4, 4, '2019-07-17 00:00:00', 0),
	(67, 27, 3, '2019-03-29 00:00:00', 0),
	(68, 33, 4, '2020-07-09 00:00:00', 0),
	(69, 37, 3, '2021-03-09 00:00:00', 0),
	(70, 24, 2, '2021-05-18 00:00:00', 0),
	(71, 51, 3, '2021-01-09 00:00:00', 0),
	(72, 40, 2, '2020-07-25 00:00:00', 0),
	(73, 2, 4, '2019-08-11 00:00:00', 0),
	(74, 43, 1, '2020-09-11 00:00:00', 0),
	(75, 47, 4, '2019-11-06 00:00:00', 0),
	(76, 15, 1, '2021-04-05 00:00:00', 0),
	(77, 38, 1, '2021-05-07 00:00:00', 0),
	(78, 57, 3, '2020-01-18 00:00:00', 0),
	(79, 38, 1, '2021-03-05 00:00:00', 0),
	(80, 14, 1, '2021-04-25 00:00:00', 0),
	(81, 30, 3, '2019-01-20 00:00:00', 0),
	(82, 44, 3, '2019-10-11 00:00:00', 0),
	(83, 32, 1, '2020-02-14 00:00:00', 0),
	(84, 39, 2, '2020-12-24 00:00:00', 0),
	(85, 7, 1, '2021-01-13 00:00:00', 0),
	(86, 65, 4, '2020-11-18 00:00:00', 0),
	(87, 49, 3, '2019-07-15 00:00:00', 0),
	(88, 6, 4, '2019-10-04 00:00:00', 0),
	(89, 20, 3, '2021-01-29 00:00:00', 0),
	(90, 15, 4, '2020-06-11 00:00:00', 0),
	(91, 43, 3, '2020-10-29 00:00:00', 0),
	(92, 12, 4, '2020-04-12 00:00:00', 0),
	(93, 24, 1, '2020-11-25 00:00:00', 0),
	(94, 42, 3, '2020-12-09 00:00:00', 0),
	(95, 12, 4, '2019-12-31 00:00:00', 0),
	(96, 63, 3, '2019-02-14 00:00:00', 0),
	(97, 2, 2, '2019-03-25 00:00:00', 0),
	(98, 33, 1, '2019-01-17 00:00:00', 0),
	(99, 33, 1, '2020-08-08 00:00:00', 0),
	(100, 47, 2, '2020-06-12 00:00:00', 0),
	(101, 54, 3, '2019-03-31 00:00:00', 0),
	(102, 31, 3, '2020-02-23 00:00:00', 0),
	(103, 53, 4, '2020-03-27 00:00:00', 0),
	(104, 38, 1, '2019-01-03 00:00:00', 0),
	(105, 28, 4, '2020-05-03 00:00:00', 0),
	(106, 17, 4, '2019-09-06 00:00:00', 0),
	(107, 60, 1, '2019-10-18 00:00:00', 0),
	(108, 49, 1, '2019-04-01 00:00:00', 0),
	(109, 40, 2, '2020-03-14 00:00:00', 0),
	(110, 19, 3, '2021-04-10 00:00:00', 0),
	(111, 19, 4, '2021-02-08 00:00:00', 0),
	(112, 7, 3, '2019-04-04 00:00:00', 0),
	(113, 14, 2, '2020-09-15 00:00:00', 0),
	(114, 8, 1, '2020-04-24 00:00:00', 0),
	(115, 61, 3, '2019-11-16 00:00:00', 0),
	(116, 37, 2, '2020-09-24 00:00:00', 0),
	(117, 62, 2, '2019-06-12 00:00:00', 0),
	(118, 16, 1, '2019-03-21 00:00:00', 0),
	(119, 30, 4, '2020-03-15 00:00:00', 0),
	(120, 11, 2, '2020-02-20 00:00:00', 0),
	(121, 33, 4, '2020-06-17 00:00:00', 0),
	(122, 39, 1, '2021-04-10 00:00:00', 0),
	(123, 9, 1, '2020-09-12 00:00:00', 0),
	(124, 31, 3, '2020-08-20 00:00:00', 0),
	(125, 5, 2, '2019-08-11 00:00:00', 0),
	(126, 50, 4, '2019-02-04 00:00:00', 0),
	(127, 46, 1, '2019-07-26 00:00:00', 0),
	(128, 10, 4, '2020-04-25 00:00:00', 0),
	(129, 26, 4, '2019-04-04 00:00:00', 0),
	(130, 39, 2, '2019-02-27 00:00:00', 0),
	(131, 4, 4, '2020-12-30 00:00:00', 0),
	(132, 55, 3, '2019-09-12 00:00:00', 0),
	(133, 18, 4, '2020-06-09 00:00:00', 0),
	(134, 41, 4, '2019-12-08 00:00:00', 0),
	(135, 12, 3, '2021-04-20 00:00:00', 0),
	(136, 28, 2, '2021-03-28 00:00:00', 0),
	(137, 45, 3, '2019-09-30 00:00:00', 0),
	(138, 33, 3, '2019-01-21 00:00:00', 0),
	(139, 53, 1, '2019-03-13 00:00:00', 0),
	(140, 17, 1, '2019-09-23 00:00:00', 0),
	(141, 32, 3, '2019-09-14 00:00:00', 0),
	(142, 60, 4, '2020-01-01 00:00:00', 0),
	(143, 33, 4, '2020-04-10 00:00:00', 0),
	(144, 6, 2, '2021-05-11 00:00:00', 0),
	(145, 64, 3, '2021-02-13 00:00:00', 0),
	(146, 13, 4, '2020-02-09 00:00:00', 0),
	(147, 65, 4, '2020-01-04 00:00:00', 0),
	(148, 12, 2, '2020-05-08 00:00:00', 0),
	(149, 35, 2, '2020-12-22 00:00:00', 0),
	(150, 26, 2, '2019-03-03 00:00:00', 0),
	(151, 26, 2, '2019-12-31 00:00:00', 0),
	(152, 11, 4, '2020-05-30 00:00:00', 0),
	(153, 31, 2, '2020-07-08 00:00:00', 0),
	(154, 21, 2, '2019-02-10 00:00:00', 0),
	(155, 43, 1, '2019-02-28 00:00:00', 0),
	(156, 23, 1, '2021-05-12 00:00:00', 0),
	(157, 25, 2, '2021-01-12 00:00:00', 0),
	(158, 21, 1, '2020-12-17 00:00:00', 0),
	(159, 35, 1, '2020-08-16 00:00:00', 0),
	(160, 57, 4, '2019-05-13 00:00:00', 0),
	(161, 50, 3, '2019-06-09 00:00:00', 0),
	(162, 10, 3, '2020-02-29 00:00:00', 0),
	(163, 51, 4, '2019-03-03 00:00:00', 0),
	(164, 17, 1, '2019-08-12 00:00:00', 0),
	(165, 59, 4, '2019-07-17 00:00:00', 0),
	(166, 65, 3, '2019-03-29 00:00:00', 0),
	(167, 42, 3, '2020-07-09 00:00:00', 0),
	(168, 56, 3, '2021-03-09 00:00:00', 0),
	(169, 47, 4, '2021-05-18 00:00:00', 0),
	(170, 35, 2, '2021-01-09 00:00:00', 0),
	(171, 55, 3, '2020-07-25 00:00:00', 0),
	(172, 1, 2, '2019-08-11 00:00:00', 0),
	(173, 13, 4, '2020-09-11 00:00:00', 0),
	(174, 63, 3, '2019-11-06 00:00:00', 0),
	(175, 14, 4, '2021-04-05 00:00:00', 0),
	(176, 48, 1, '2021-05-07 00:00:00', 0),
	(177, 59, 2, '2020-01-18 00:00:00', 0),
	(178, 50, 2, '2021-03-05 00:00:00', 0),
	(179, 52, 2, '2021-04-25 00:00:00', 0),
	(180, 38, 4, '2019-01-20 00:00:00', 0),
	(181, 30, 1, '2019-10-11 00:00:00', 0),
	(182, 42, 2, '2020-02-14 00:00:00', 0),
	(183, 31, 2, '2020-12-24 00:00:00', 0),
	(184, 3, 3, '2021-01-13 00:00:00', 0),
	(185, 59, 1, '2020-11-18 00:00:00', 0),
	(186, 58, 3, '2019-07-15 00:00:00', 0),
	(187, 34, 3, '2019-10-04 00:00:00', 0),
	(188, 53, 4, '2021-01-29 00:00:00', 0),
	(189, 9, 1, '2020-06-11 00:00:00', 0),
	(190, 23, 3, '2020-10-29 00:00:00', 0),
	(191, 61, 1, '2020-04-12 00:00:00', 0),
	(192, 4, 1, '2020-11-25 00:00:00', 0),
	(193, 49, 3, '2020-12-09 00:00:00', 0),
	(194, 24, 3, '2019-12-31 00:00:00', 0),
	(195, 59, 4, '2019-02-14 00:00:00', 0),
	(196, 3, 2, '2019-03-25 00:00:00', 0),
	(197, 53, 4, '2019-01-17 00:00:00', 0),
	(198, 32, 3, '2020-08-08 00:00:00', 0),
	(199, 6, 3, '2019-10-29 00:00:00', 0),
	(200, 22, 2, '2020-10-04 00:00:00', 0),
	(201, 29, 4, '2020-01-18 00:00:00', 0),
	(202, 41, 4, '2020-11-06 00:00:00', 0),
	(203, 15, 3, '2020-02-10 00:00:00', 0),
	(204, 46, 3, '2019-10-18 00:00:00', 0),
	(205, 58, 4, '2021-05-01 00:00:00', 0),
	(206, 11, 1, '2021-01-03 00:00:00', 0),
	(207, 55, 1, '2020-09-30 00:00:00', 0),
	(208, 14, 1, '2020-12-04 00:00:00', 0),
	(209, 32, 4, '2021-05-08 00:00:00', 0),
	(210, 34, 3, '2019-04-15 00:00:00', 0),
	(211, 44, 4, '2020-02-24 00:00:00', 0),
	(212, 52, 4, '2019-10-18 00:00:00', 0),
	(213, 57, 4, '2021-01-20 00:00:00', 0),
	(214, 14, 1, '2021-04-26 00:00:00', 0),
	(215, 50, 4, '2021-02-23 00:00:00', 0),
	(216, 37, 3, '2020-12-15 00:00:00', 0),
	(217, 29, 3, '2019-06-28 00:00:00', 0),
	(218, 10, 1, '2020-12-19 00:00:00', 0),
	(219, 40, 2, '2021-05-11 00:00:00', 0),
	(220, 5, 2, '2019-06-12 00:00:00', 0),
	(221, 20, 2, '2020-07-14 00:00:00', 0),
	(222, 14, 4, '2020-01-28 00:00:00', 0),
	(223, 59, 4, '2019-05-12 00:00:00', 0),
	(224, 44, 3, '2019-09-03 00:00:00', 0),
	(225, 46, 3, '2020-02-28 00:00:00', 0),
	(226, 25, 3, '2019-07-31 00:00:00', 0),
	(227, 16, 3, '2019-10-27 00:00:00', 0),
	(228, 55, 1, '2021-04-06 00:00:00', 0),
	(229, 60, 2, '2019-08-27 00:00:00', 0),
	(230, 8, 2, '2019-12-26 00:00:00', 0),
	(231, 40, 3, '2021-03-20 00:00:00', 0),
	(232, 54, 2, '2019-10-26 00:00:00', 0),
	(233, 19, 4, '2020-06-08 00:00:00', 0),
	(234, 19, 2, '2020-05-06 00:00:00', 0),
	(235, 8, 1, '2020-02-18 00:00:00', 0),
	(236, 42, 4, '2019-08-02 00:00:00', 0),
	(237, 22, 2, '2019-02-24 00:00:00', 0),
	(238, 30, 4, '2020-05-25 00:00:00', 0),
	(239, 15, 3, '2019-06-03 00:00:00', 0),
	(240, 17, 4, '2019-08-03 00:00:00', 0),
	(241, 29, 1, '2020-11-06 00:00:00', 0),
	(242, 29, 3, '2020-09-23 00:00:00', 0),
	(243, 35, 3, '2019-02-03 00:00:00', 0),
	(244, 49, 3, '2020-10-06 00:00:00', 0),
	(245, 8, 2, '2020-01-01 00:00:00', 0),
	(246, 24, 2, '2020-02-06 00:00:00', 0),
	(247, 13, 2, '2020-08-07 00:00:00', 0),
	(248, 41, 1, '2020-12-24 00:00:00', 0),
	(249, 3, 4, '2019-01-30 00:00:00', 0),
	(250, 18, 4, '2019-10-21 00:00:00', 0),
	(251, 13, 4, '2019-02-01 00:00:00', 0),
	(252, 3, 4, '2020-04-03 00:00:00', 0),
	(253, 61, 4, '2020-12-15 00:00:00', 0),
	(254, 12, 1, '2020-09-18 00:00:00', 0),
	(255, 24, 2, '2020-07-12 00:00:00', 0),
	(256, 44, 3, '2019-02-25 00:00:00', 0),
	(257, 48, 1, '2019-08-25 00:00:00', 0),
	(258, 34, 1, '2019-03-28 00:00:00', 0),
	(259, 28, 2, '2019-03-25 00:00:00', 0),
	(260, 56, 2, '2020-08-22 00:00:00', 0),
	(261, 8, 3, '2020-08-31 00:00:00', 0),
	(262, 51, 3, '2019-11-05 00:00:00', 0),
	(263, 8, 2, '2019-10-08 00:00:00', 0),
	(264, 27, 1, '2019-10-18 00:00:00', 0),
	(265, 29, 3, '2019-12-18 00:00:00', 0),
	(266, 47, 3, '2020-11-03 00:00:00', 0),
	(267, 46, 1, '2020-09-13 00:00:00', 0),
	(268, 11, 4, '2019-09-26 00:00:00', 0),
	(269, 43, 4, '2019-06-02 00:00:00', 0),
	(270, 5, 2, '2019-05-03 00:00:00', 0),
	(271, 47, 2, '2019-01-01 00:00:00', 0),
	(272, 28, 4, '2021-03-31 00:00:00', 0),
	(273, 42, 3, '2019-11-29 00:00:00', 0),
	(274, 34, 4, '2021-05-18 00:00:00', 0),
	(275, 3, 4, '2020-01-30 00:00:00', 0),
	(276, 23, 3, '2020-09-07 00:00:00', 0),
	(277, 53, 3, '2019-05-14 00:00:00', 0),
	(278, 2, 1, '2019-11-08 00:00:00', 0),
	(279, 65, 2, '2020-10-08 00:00:00', 0),
	(280, 8, 3, '2019-06-21 00:00:00', 0),
	(281, 63, 3, '2020-08-28 00:00:00', 0),
	(282, 21, 4, '2020-07-14 00:00:00', 0),
	(283, 35, 3, '2021-03-01 00:00:00', 0),
	(284, 35, 3, '2020-06-25 00:00:00', 0),
	(285, 21, 3, '2019-03-06 00:00:00', 0),
	(286, 46, 2, '2020-02-18 00:00:00', 0),
	(287, 22, 2, '2019-08-22 00:00:00', 0),
	(288, 8, 1, '2020-08-07 00:00:00', 0),
	(289, 65, 4, '2019-08-11 00:00:00', 0),
	(290, 11, 4, '2021-03-27 00:00:00', 0),
	(291, 39, 2, '2019-11-06 00:00:00', 0),
	(292, 33, 2, '2020-10-29 00:00:00', 0),
	(293, 36, 2, '2020-10-20 00:00:00', 0),
	(294, 42, 4, '2020-07-12 00:00:00', 0),
	(295, 27, 1, '2020-05-24 00:00:00', 0),
	(296, 34, 4, '2021-01-04 00:00:00', 0),
	(297, 9, 1, '2021-02-15 00:00:00', 0),
	(298, 56, 3, '2020-05-24 00:00:00', 0),
	(299, 5, 4, '2021-01-04 00:00:00', 0),
	(300, 10, 4, '2021-02-15 00:00:00', 0),
	(301, 103, 1, '2021-12-03 11:49:56', 39600),
	(302, 103, 1, '2021-12-03 12:23:54', 39600),
	(303, 103, 1, '2021-12-03 12:26:36', 39600),
	(304, 103, 1, '2021-12-03 12:28:21', 39600),
	(306, 97, 1, '2021-12-03 13:13:51', 8900),
	(307, 97, 1, '2021-12-03 13:15:30', 8900),
	(308, 97, 1, '2021-12-03 13:16:50', 8900),
	(309, 97, 1, '2021-12-03 13:22:01', 8900),
	(310, 97, 1, '2021-12-03 13:26:13', 8900),
	(311, 97, 1, '2021-12-03 13:28:35', 8900),
	(312, 96, 1, '2021-12-03 13:31:09', 8900),
	(313, 96, 1, '2021-12-03 13:33:13', 8900),
	(314, 96, 1, '2021-12-03 13:34:59', 8900),
	(315, 96, 1, '2021-12-03 13:36:15', 8900),
	(316, 96, 1, '2021-12-03 13:37:02', 8900),
	(317, 96, 1, '2021-12-03 13:38:15', 8900),
	(318, 96, 1, '2021-12-03 13:38:52', 8900),
	(319, 96, 1, '2021-12-03 13:40:37', 8900),
	(320, 96, 1, '2021-12-03 13:41:29', 43600);
/*!40000 ALTER TABLE `compras` ENABLE KEYS */;

-- Volcando estructura para tabla tp_ecommerce.compras_productos
CREATE TABLE IF NOT EXISTS `compras_productos` (
  `Id_compras` int(11) NOT NULL,
  `Id_producto` int(11) NOT NULL,
  `cantidad_compra` int(11) NOT NULL,
  KEY `Id_compras` (`Id_compras`),
  KEY `compras_productos_ibfk_2` (`Id_producto`),
  CONSTRAINT `compras_productos_ibfk_1` FOREIGN KEY (`Id_compras`) REFERENCES `compras` (`Id_compras`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `compras_productos_ibfk_2` FOREIGN KEY (`Id_producto`) REFERENCES `producto` (`Id_producto`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.compras_productos: ~320 rows (aproximadamente)
/*!40000 ALTER TABLE `compras_productos` DISABLE KEYS */;
INSERT INTO `compras_productos` (`Id_compras`, `Id_producto`, `cantidad_compra`) VALUES
	(1, 8, 3),
	(2, 67, 3),
	(3, 1, 1),
	(4, 43, 2),
	(5, 62, 1),
	(6, 3, 2),
	(7, 60, 1),
	(8, 9, 3),
	(9, 51, 1),
	(10, 48, 3),
	(11, 7, 1),
	(12, 47, 1),
	(13, 32, 1),
	(14, 65, 3),
	(15, 11, 2),
	(16, 3, 3),
	(17, 53, 1),
	(18, 47, 3),
	(19, 4, 2),
	(20, 27, 2),
	(21, 66, 2),
	(22, 28, 2),
	(23, 50, 1),
	(24, 1, 2),
	(25, 50, 2),
	(26, 17, 2),
	(27, 8, 2),
	(28, 26, 1),
	(29, 55, 1),
	(30, 19, 2),
	(31, 28, 3),
	(32, 33, 2),
	(33, 3, 3),
	(34, 47, 2),
	(35, 29, 3),
	(36, 39, 2),
	(37, 62, 1),
	(38, 14, 1),
	(39, 67, 2),
	(40, 58, 3),
	(41, 42, 3),
	(42, 55, 2),
	(43, 20, 3),
	(44, 18, 3),
	(45, 12, 3),
	(46, 6, 3),
	(47, 54, 1),
	(48, 47, 1),
	(49, 43, 1),
	(50, 15, 1),
	(51, 29, 1),
	(52, 35, 1),
	(53, 23, 1),
	(54, 46, 1),
	(55, 55, 1),
	(56, 39, 2),
	(57, 19, 1),
	(58, 27, 3),
	(59, 62, 2),
	(60, 46, 3),
	(61, 4, 1),
	(62, 35, 1),
	(63, 32, 2),
	(64, 53, 2),
	(65, 21, 3),
	(66, 21, 2),
	(67, 63, 3),
	(68, 25, 2),
	(69, 17, 1),
	(70, 26, 1),
	(71, 23, 2),
	(72, 16, 3),
	(73, 40, 2),
	(74, 57, 1),
	(75, 25, 2),
	(76, 39, 1),
	(77, 50, 2),
	(78, 31, 3),
	(79, 57, 3),
	(80, 60, 1),
	(81, 10, 3),
	(82, 29, 1),
	(83, 27, 2),
	(84, 50, 1),
	(85, 17, 2),
	(86, 60, 3),
	(87, 49, 2),
	(88, 8, 2),
	(89, 5, 1),
	(90, 53, 3),
	(91, 59, 2),
	(92, 67, 2),
	(93, 38, 1),
	(94, 16, 2),
	(95, 34, 3),
	(96, 27, 1),
	(97, 40, 3),
	(98, 34, 3),
	(99, 14, 1),
	(100, 24, 3),
	(101, 64, 1),
	(102, 67, 3),
	(103, 61, 2),
	(104, 5, 1),
	(105, 55, 2),
	(106, 23, 3),
	(107, 53, 2),
	(108, 29, 3),
	(109, 8, 2),
	(110, 52, 2),
	(111, 46, 3),
	(112, 23, 1),
	(113, 36, 1),
	(114, 56, 2),
	(115, 36, 1),
	(116, 4, 3),
	(117, 57, 2),
	(118, 53, 1),
	(119, 21, 2),
	(120, 21, 1),
	(121, 27, 3),
	(122, 22, 3),
	(123, 52, 1),
	(124, 34, 2),
	(125, 9, 2),
	(126, 64, 2),
	(127, 54, 1),
	(128, 9, 2),
	(129, 14, 3),
	(130, 18, 2),
	(131, 26, 3),
	(132, 39, 2),
	(133, 32, 2),
	(134, 2, 2),
	(135, 61, 2),
	(136, 35, 3),
	(137, 17, 3),
	(138, 40, 1),
	(139, 56, 2),
	(140, 18, 2),
	(141, 20, 1),
	(142, 17, 2),
	(143, 38, 3),
	(144, 48, 3),
	(145, 43, 3),
	(146, 41, 1),
	(147, 53, 3),
	(148, 25, 2),
	(149, 12, 2),
	(150, 61, 1),
	(151, 4, 1),
	(152, 23, 1),
	(153, 26, 2),
	(154, 53, 2),
	(155, 66, 1),
	(156, 42, 2),
	(157, 28, 3),
	(158, 22, 3),
	(159, 55, 1),
	(160, 33, 2),
	(161, 9, 1),
	(162, 44, 3),
	(163, 31, 3),
	(164, 59, 1),
	(165, 33, 3),
	(166, 20, 2),
	(167, 67, 1),
	(168, 35, 1),
	(169, 47, 3),
	(170, 66, 3),
	(171, 38, 3),
	(172, 9, 2),
	(173, 17, 2),
	(174, 62, 2),
	(175, 65, 3),
	(176, 63, 3),
	(177, 15, 2),
	(178, 56, 1),
	(179, 4, 1),
	(180, 27, 3),
	(181, 55, 1),
	(182, 19, 1),
	(183, 56, 3),
	(184, 10, 3),
	(185, 60, 2),
	(186, 28, 3),
	(187, 22, 2),
	(188, 4, 3),
	(189, 59, 3),
	(190, 21, 1),
	(191, 14, 3),
	(192, 54, 1),
	(193, 57, 2),
	(194, 45, 1),
	(195, 14, 3),
	(196, 53, 3),
	(197, 38, 3),
	(198, 41, 1),
	(199, 53, 3),
	(200, 9, 2),
	(201, 12, 1),
	(202, 62, 2),
	(203, 23, 3),
	(204, 21, 2),
	(205, 40, 2),
	(206, 26, 1),
	(207, 11, 3),
	(208, 55, 1),
	(209, 24, 1),
	(210, 64, 3),
	(211, 6, 1),
	(212, 19, 3),
	(213, 45, 3),
	(214, 24, 1),
	(215, 24, 3),
	(216, 40, 3),
	(217, 2, 3),
	(218, 54, 3),
	(219, 58, 2),
	(220, 38, 3),
	(221, 13, 1),
	(222, 57, 3),
	(223, 28, 1),
	(224, 42, 3),
	(225, 65, 1),
	(226, 51, 3),
	(227, 35, 2),
	(228, 18, 1),
	(229, 33, 2),
	(230, 66, 3),
	(231, 66, 2),
	(232, 37, 1),
	(233, 34, 2),
	(234, 22, 1),
	(235, 38, 3),
	(236, 13, 2),
	(237, 27, 1),
	(238, 66, 1),
	(239, 39, 2),
	(240, 49, 3),
	(241, 35, 2),
	(242, 31, 1),
	(243, 21, 3),
	(244, 56, 3),
	(245, 50, 1),
	(246, 32, 1),
	(247, 33, 1),
	(248, 62, 1),
	(249, 32, 3),
	(250, 22, 3),
	(251, 29, 3),
	(252, 49, 2),
	(253, 52, 3),
	(254, 13, 3),
	(255, 6, 1),
	(256, 9, 2),
	(257, 60, 3),
	(258, 66, 2),
	(259, 30, 2),
	(260, 20, 2),
	(261, 51, 2),
	(262, 59, 1),
	(263, 44, 1),
	(264, 55, 1),
	(265, 53, 3),
	(266, 48, 1),
	(267, 23, 2),
	(268, 9, 1),
	(269, 16, 3),
	(270, 52, 3),
	(271, 63, 2),
	(272, 59, 1),
	(273, 6, 2),
	(274, 24, 2),
	(275, 12, 2),
	(276, 12, 1),
	(277, 5, 3),
	(278, 12, 3),
	(279, 59, 1),
	(280, 6, 3),
	(281, 15, 3),
	(282, 1, 1),
	(283, 24, 3),
	(284, 12, 2),
	(285, 29, 1),
	(286, 52, 1),
	(287, 34, 1),
	(288, 20, 3),
	(289, 54, 2),
	(290, 30, 1),
	(291, 34, 2),
	(292, 33, 2),
	(293, 18, 1),
	(294, 14, 2),
	(295, 12, 1),
	(296, 11, 1),
	(297, 46, 3),
	(298, 66, 2),
	(299, 45, 3),
	(300, 17, 3),
	(304, 1, 2),
	(304, 2, 1),
	(304, 3, 1),
	(306, 1, 1),
	(307, 1, 1),
	(308, 1, 1),
	(309, 1, 1),
	(310, 1, 1),
	(311, 1, 1),
	(312, 1, 1),
	(313, 1, 1),
	(314, 1, 1),
	(315, 1, 1),
	(316, 1, 1),
	(317, 1, 1),
	(318, 1, 1),
	(319, 1, 1),
	(320, 1, 1),
	(320, 2, 2),
	(320, 3, 1);
/*!40000 ALTER TABLE `compras_productos` ENABLE KEYS */;

-- Volcando estructura para tabla tp_ecommerce.forma_de_pago
CREATE TABLE IF NOT EXISTS `forma_de_pago` (
  `Id_forma_de_pago` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(20) NOT NULL,
  PRIMARY KEY (`Id_forma_de_pago`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.forma_de_pago: ~4 rows (aproximadamente)
/*!40000 ALTER TABLE `forma_de_pago` DISABLE KEYS */;
INSERT INTO `forma_de_pago` (`Id_forma_de_pago`, `nombre`) VALUES
	(1, 'Efectivo'),
	(2, 'Tarjeta de Credito'),
	(3, 'Tarjeta de Debito'),
	(4, 'Mercado Pago');
/*!40000 ALTER TABLE `forma_de_pago` ENABLE KEYS */;

-- Volcando estructura para tabla tp_ecommerce.localidad
CREATE TABLE IF NOT EXISTS `localidad` (
  `Id_localidad` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(20) NOT NULL,
  `Id_provincia` int(11) NOT NULL,
  PRIMARY KEY (`Id_localidad`),
  KEY `Id_provincia` (`Id_provincia`),
  CONSTRAINT `localidad_ibfk_1` FOREIGN KEY (`Id_provincia`) REFERENCES `provincia` (`Id_provincia`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.localidad: ~18 rows (aproximadamente)
/*!40000 ALTER TABLE `localidad` DISABLE KEYS */;
INSERT INTO `localidad` (`Id_localidad`, `nombre`, `Id_provincia`) VALUES
	(1, 'Lanus', 1),
	(2, 'Avellaneda', 1),
	(3, 'Paternal', 2),
	(4, 'Recoleta', 2),
	(5, 'Carmelo', 3),
	(6, 'Campana', 3),
	(7, 'Ciudad Vieja', 4),
	(8, 'Barrio Sur', 4),
	(9, 'Providencia', 5),
	(10, 'Pudahuel', 5),
	(11, 'Barranca', 6),
	(12, 'Matucana', 6),
	(13, 'Poroy', 7),
	(14, 'Santiago', 7),
	(15, 'El Paraiso', 8),
	(16, 'La Candelaria', 8),
	(17, 'Chacao', 9),
	(18, 'Altamira', 9);
/*!40000 ALTER TABLE `localidad` ENABLE KEYS */;

-- Volcando estructura para tabla tp_ecommerce.marca
CREATE TABLE IF NOT EXISTS `marca` (
  `Id_marca` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(20) NOT NULL,
  PRIMARY KEY (`Id_marca`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.marca: ~8 rows (aproximadamente)
/*!40000 ALTER TABLE `marca` DISABLE KEYS */;
INSERT INTO `marca` (`Id_marca`, `nombre`) VALUES
	(1, 'Adidas'),
	(2, 'Nike'),
	(3, 'Puma'),
	(4, 'Converse'),
	(5, 'Fila'),
	(6, 'Vans'),
	(7, 'Reebok'),
	(8, 'New Balance');
/*!40000 ALTER TABLE `marca` ENABLE KEYS */;

-- Volcando estructura para tabla tp_ecommerce.pais
CREATE TABLE IF NOT EXISTS `pais` (
  `Id_pais` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(15) NOT NULL,
  PRIMARY KEY (`Id_pais`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.pais: ~5 rows (aproximadamente)
/*!40000 ALTER TABLE `pais` DISABLE KEYS */;
INSERT INTO `pais` (`Id_pais`, `nombre`) VALUES
	(1, 'Argentina'),
	(2, 'Uruguay'),
	(3, 'Chile'),
	(4, 'Peru'),
	(5, 'Venezuela');
/*!40000 ALTER TABLE `pais` ENABLE KEYS */;

-- Volcando estructura para tabla tp_ecommerce.producto
CREATE TABLE IF NOT EXISTS `producto` (
  `Id_producto` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(20) NOT NULL,
  `modelo` varchar(30) NOT NULL,
  `descripcion` varchar(50) NOT NULL,
  `precio` float NOT NULL,
  `stock` int(11) NOT NULL,
  `Id_categoria` int(11) NOT NULL,
  `Id_marca` int(11) NOT NULL,
  PRIMARY KEY (`Id_producto`),
  KEY `Id_categoria` (`Id_categoria`),
  KEY `Id_marca` (`Id_marca`),
  CONSTRAINT `producto_ibfk_1` FOREIGN KEY (`Id_categoria`) REFERENCES `categoria` (`Id_categoria`),
  CONSTRAINT `producto_ibfk_2` FOREIGN KEY (`Id_marca`) REFERENCES `marca` (`Id_marca`)
) ENGINE=InnoDB AUTO_INCREMENT=68 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.producto: ~67 rows (aproximadamente)
/*!40000 ALTER TABLE `producto` DISABLE KEYS */;
INSERT INTO `producto` (`Id_producto`, `nombre`, `modelo`, `descripcion`, `precio`, `stock`, `Id_categoria`, `Id_marca`) VALUES
	(1, 'Scudeira Ferrari', 'Motor Sport', 'Calzado Color Blanco', 8900, 94, 1, 3),
	(2, 'Racer Move', 'Running', 'Calzado Color Gris', 12900, 95, 1, 5),
	(3, 'Ferrari Race', 'Motor Sport', 'Calzado Color Rosa', 8900, 97, 1, 3),
	(4, 'Sb Charge', 'Moda', 'Calzado Color Gris', 11990, 22, 1, 2),
	(5, 'React Miller', 'Running', 'Calzado Color Beige', 12900, 21, 1, 2),
	(6, 'Predator', 'Futbol', 'Calzado Color Negro', 9800, 13, 1, 1),
	(7, 'Royal Glide', 'Moda', 'Calzado Color Gris', 11990, 12, 1, 7),
	(8, '574 FBB', 'Moda', 'Calzado Color Beige', 10500, 19, 1, 8),
	(9, 'Chuck Taylor', 'Moda', 'Calzado Color Rojo', 11000, 25, 1, 4),
	(10, 'Filmore', 'Moda', 'Calzado Color Negro', 12000, 21, 1, 6),
	(11, 'R78 Futr', 'Moda', 'Calzado Color Azul', 11999, 13, 4, 3),
	(12, 'Zermat', 'Outdoor', 'Calzado Color Blanco', 8990, 7, 4, 5),
	(13, 'Renew', 'Running', 'Calzado Color Gris', 11999, 23, 4, 2),
	(14, 'Aztrek', 'Moda', 'Calzado Color Negro', 10499, 21, 4, 7),
	(15, 'Court Master', 'Moda', 'Calzado Color Gris', 10499, 18, 4, 1),
	(16, 'Pro Leather', 'Moda', 'Calzado Color Beige', 11299, 13, 4, 4),
	(17, '574 BCN', 'Moda', 'Calzado Color Negro', 9900, 22, 4, 8),
	(18, 'Ward', 'Moda', 'Calzado Color Gris', 8990, 22, 4, 6),
	(19, 'Atwood', 'Moda', 'Calzado Color Beige', 9900, 14, 4, 6),
	(20, 'Comet 2', 'Moda', 'Calzado Color Gris', 10499, 14, 4, 3),
	(21, 'Court Master', 'Moda', 'Calzado Color Gris', 12000, 16, 1, 1),
	(22, 'Pro Leather', 'Moda', 'Calzado Color Beige', 12000, 24, 1, 4),
	(23, '574 BCN', 'Moda', 'Calzado Color Negro', 10500, 15, 1, 8),
	(24, 'Ward', 'Moda', 'Calzado Color Gris', 11990, 20, 1, 6),
	(25, 'Atwood', 'Moda', 'Calzado Color Beige', 11000, 23, 1, 6),
	(26, 'Comet 2', 'Moda', 'Calzado Color Gris', 11000, 14, 1, 3),
	(27, 'Ferrari Race', 'Motor Sport', 'Calzado Color Rosa', 11299, 18, 4, 3),
	(28, 'Sb Charge', 'Moda', 'Calzado Color Gris', 8990, 22, 4, 2),
	(29, 'React Miller', 'Running', 'Calzado Color Beige', 11999, 25, 4, 2),
	(30, 'Predator', 'Futbol', 'Calzado Color Negro', 11299, 12, 4, 1),
	(31, 'Royal Glide', 'Moda', 'Calzado Color Gris', 8990, 15, 4, 7),
	(32, '574 FBB', 'Moda', 'Calzado Color Beige', 9900, 22, 4, 8),
	(33, 'Graphic', 'Moda', 'Remera Color Blanco', 5499, 22, 2, 3),
	(34, 'Classics Twin Vector', 'Moda', 'Pantalon Color Rojo', 5600, 15, 3, 7),
	(35, 'DFC Project', 'Entrenamiento', 'Remera Color Verde', 4990, 25, 2, 2),
	(36, 'All Star Jogger', 'Moda', 'Pantalon Color Negro', 6000, 17, 3, 4),
	(37, 'Remera Boca H', 'Futbol', 'Remera Color Blanco', 5499, 25, 2, 1),
	(38, 'Remera River', 'Futbol', 'Remera Color Azul', 5499, 16, 2, 1),
	(39, 'DNA', 'Moda', 'Pantalon Color Gris', 4500, 12, 3, 5),
	(40, 'Athletics Vortex', 'Moda', 'Remera Color Gris', 4990, 16, 2, 8),
	(41, 'Classics 2', 'Moda', 'Remera Color Blanco', 4990, 23, 2, 6),
	(42, 'Distort', 'Moda', 'Remera Color Blanco', 5499, 13, 2, 6),
	(43, 'Sport Wear Retro', 'Moda', 'Remera Color Negro', 5500, 19, 5, 2),
	(44, 'Classics Vector', 'Moda', 'Pantalon Color Negro', 4990, 23, 6, 7),
	(45, 'Favorites M', 'Moda', 'Pantalon Color Rosa', 5500, 21, 6, 1),
	(46, 'Running Graphic', 'Entrenamiento', 'Remera Color Bordo', 5500, 13, 5, 3),
	(47, 'Essential', 'Moda', 'Remera Color Rosa', 4990, 22, 5, 5),
	(48, 'Inbox', 'Moda', 'Remera Color Blanco', 3990, 19, 5, 5),
	(49, 'Mix Match', 'Moda', 'Remera Color Negro', 3990, 14, 5, 4),
	(50, 'Run Graphic', 'Moda', 'Remera Color Negro', 3990, 19, 5, 8),
	(51, 'Ponte', 'Moda', 'Pantalon Color Negro', 5500, 13, 6, 8),
	(52, 'Boom Boom', 'Moda', 'Remera Color Rosa', 3990, 24, 5, 6),
	(53, 'Favorites H', 'Moda', 'Pantalon Color Negro', 5500, 22, 3, 1),
	(54, 'Remera Boca M', 'Futbol', 'Remera Color Blanco', 5499, 15, 5, 1),
	(55, 'Classics', 'Moda', 'Remera Color Gris', 4990, 25, 2, 4),
	(56, 'Classics', 'Moda', 'Remera Color Blanco', 4990, 12, 2, 5),
	(57, 'Classics', 'Moda', 'Remera Color Blanco', 5499, 15, 2, 7),
	(58, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 22, 3, 2),
	(59, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 22, 2, 3),
	(60, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 25, 3, 6),
	(61, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 17, 3, 8),
	(62, 'Classics', 'Futbol', 'Remera Color Blanco', 5499, 16, 5, 7),
	(63, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 12, 6, 2),
	(64, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 16, 6, 3),
	(65, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 16, 6, 4),
	(66, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 11, 6, 5),
	(67, 'Classics', 'Moda', 'Pantalon Color Negro', 5500, 10, 6, 6);
/*!40000 ALTER TABLE `producto` ENABLE KEYS */;

-- Volcando estructura para vista tp_ecommerce.productosdemujer
-- Creando tabla temporal para superar errores de dependencia de VIEW
CREATE TABLE `productosdemujer` (
	`Producto` VARCHAR(20) NOT NULL COLLATE 'utf8mb4_general_ci',
	`Categoria` VARCHAR(20) NOT NULL COLLATE 'utf8mb4_general_ci'
) ENGINE=MyISAM;

-- Volcando estructura para vista tp_ecommerce.productos_venta
-- Creando tabla temporal para superar errores de dependencia de VIEW
CREATE TABLE `productos_venta` (
	`Id_producto` INT(11) NOT NULL,
	`descripcion` VARCHAR(50) NOT NULL COLLATE 'utf8mb4_general_ci',
	`Nombre del Producto` VARCHAR(20) NOT NULL COLLATE 'utf8mb4_general_ci',
	`Marca` VARCHAR(20) NOT NULL COLLATE 'utf8mb4_general_ci',
	`precio` FLOAT NOT NULL
) ENGINE=MyISAM;

-- Volcando estructura para tabla tp_ecommerce.provincia
CREATE TABLE IF NOT EXISTS `provincia` (
  `Id_provincia` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(20) NOT NULL,
  `Id_pais` int(11) NOT NULL,
  PRIMARY KEY (`Id_provincia`),
  KEY `Id_pais` (`Id_pais`),
  CONSTRAINT `provincia_ibfk_1` FOREIGN KEY (`Id_pais`) REFERENCES `pais` (`Id_pais`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.provincia: ~9 rows (aproximadamente)
/*!40000 ALTER TABLE `provincia` DISABLE KEYS */;
INSERT INTO `provincia` (`Id_provincia`, `nombre`, `Id_pais`) VALUES
	(1, 'Buenos Aires', 1),
	(2, 'CABA', 1),
	(3, 'Colonia', 2),
	(4, 'Montevideo', 2),
	(5, 'Santiago', 3),
	(6, 'Lima', 4),
	(7, 'Cusco', 4),
	(8, 'Caracas', 5),
	(9, 'Miranda', 5);
/*!40000 ALTER TABLE `provincia` ENABLE KEYS */;

-- Volcando estructura para tabla tp_ecommerce.usuario
CREATE TABLE IF NOT EXISTS `usuario` (
  `Id_usuario` int(11) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(20) NOT NULL,
  `apellido` varchar(20) NOT NULL,
  `sexo` varchar(15) NOT NULL,
  `telefono` varchar(15) NOT NULL,
  `fecha_nacimiento` date NOT NULL,
  `correo` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `Id_localidad` int(11) NOT NULL,
  PRIMARY KEY (`Id_usuario`),
  KEY `Id_localidad` (`Id_localidad`),
  CONSTRAINT `usuario_ibfk_1` FOREIGN KEY (`Id_localidad`) REFERENCES `localidad` (`Id_localidad`)
) ENGINE=InnoDB AUTO_INCREMENT=108 DEFAULT CHARSET=utf8mb4;

-- Volcando datos para la tabla tp_ecommerce.usuario: ~71 rows (aproximadamente)
/*!40000 ALTER TABLE `usuario` DISABLE KEYS */;
INSERT INTO `usuario` (`Id_usuario`, `nombre`, `apellido`, `sexo`, `telefono`, `fecha_nacimiento`, `correo`, `password`, `Id_localidad`) VALUES
	(0, 'Juan', 'Sanchez', 'M', '1525458547', '1964-09-26', 'juansanchez@hotmail.com', '', 11),
	(1, 'Miguel', 'Flores', 'M', '5659824553', '1985-09-12', 'miguelflores@gmail.com', '', 9),
	(2, 'Julio', 'castillo', 'M', '56-51737261', '1984-09-11', 'juliocastillo@gmail.com', '', 10),
	(3, 'Gerson', 'Suarez', 'F', '56-64541675', '1980-09-22', 'gersonsuarez@gmail.com', '', 10),
	(4, 'Luis', 'Martinez', 'M', '56-61971943', '1981-03-04', 'luismartinez@gmail.com', '', 10),
	(5, 'Ricardo', 'Orellano', 'F', '598-43642997', '1987-04-29', 'ricardoorellano@gmail.com', '', 5),
	(6, 'Julian', 'Sanchez', 'F', '598-27639273', '1973-06-30', 'juliansanchez@gmail.com', '', 6),
	(7, 'Nicolas', 'Espinoza', 'F', '54-91134796146', '1993-10-06', 'nicolasespinoza@gmail.com', '', 1),
	(8, 'Cristina', 'Martinez', 'F', '54-91143764312', '1997-10-28', 'cristinamartinez@gmail.com', '', 1),
	(9, 'Adrian', 'Rodriguez', 'F', '54-91153577692', '1999-05-19', 'adrianrodriguez@gmail.com', '', 2),
	(10, 'Robert', 'Diaz', 'M', '54-91146743120', '1974-01-29', 'robertdiaz@gmail.com', '', 3),
	(11, 'Patricia', 'Villegas', 'F', '58-53522678', '1991-08-15', 'patriciavillegas@gmail.com', '', 15),
	(12, 'Lourdes', 'Limas', 'F', '58-81761657', '1975-07-14', 'lourdeslimas@gmail.com', '', 15),
	(13, 'Cesar', 'Vallejos', 'M', '54-91166408084', '1989-01-12', 'cesarvallejos@gmail.com', '', 1),
	(14, 'Ana', 'Arroyo', 'F', '54-91133449163', '1995-08-16', 'anaarroyo@gmail.com', '', 3),
	(15, 'Orlando', 'Manrique', 'M', '54-91141774660', '1977-07-03', 'orlandomanrique@gmail.com', '', 2),
	(16, 'Erika', 'Hinojosa', 'F', '54-91191371388', '1993-08-14', 'erikahinojosa@gmail.com', '', 3),
	(17, 'Leslie', 'Russo', 'F', '54-91120552749', '1987-03-05', 'leslierusso@gmail.com', '', 2),
	(18, 'Andres', 'Marquina', 'M', '54-91112712848', '1972-08-12', 'andresmarquina@gmail.com', '', 4),
	(19, 'Rocio', 'Caceda', 'F', '54-91198450551', '1980-09-04', 'rociocaceda@gmail.com', '', 4),
	(20, 'Gabriela', 'Vidal', 'F', '54-91150069127', '1984-03-29', 'gabrielavidal@gmail.com', '', 2),
	(21, 'Rosa', 'Correa', 'F', '54-91142448013', '1987-01-18', 'rosacorrea@gmail.com', '', 4),
	(22, 'Alberto', 'Calderon', 'M', '598-87076335', '1972-01-25', 'albertocalderon@gmail.com', '', 5),
	(23, 'Jorge', 'Chavez', 'M', '598-36602596', '1989-02-02', 'jorgechavez@gmail.com', '', 5),
	(24, 'Rosa', 'Moreno', 'F', '598-95894546', '1975-06-25', 'rosamoreno@gmail.com', '', 6),
	(25, 'Yamilet', 'Gurtierrez', 'F', '598-25019067', '1995-11-26', 'yamiletgurtierrez@gmail.com', '', 7),
	(26, 'Edgar', 'Arteaga', 'M', '598-28348003', '1990-02-09', 'edgararteaga@hotmail.com', '', 8),
	(27, 'Fabiana', 'Garay', 'F', '598-35664543', '1984-04-27', 'fabianagaray@hotmail.com', '', 8),
	(28, 'Rosa', 'Teran', 'F', '598-41284223', '1972-06-16', 'rosateran@hotmail.com', '', 7),
	(29, 'Carmen', 'Mendoza', 'F', '54-91137627234', '1975-04-20', 'carmenmendoza@hotmail.com', '', 2),
	(30, 'Roxana', 'Rondon', 'F', '58-53671905', '1973-03-28', 'roxanarondon@hotmail.com', '', 18),
	(31, 'Martina', 'Granados', 'F', '58-67476606', '1983-11-03', 'martinagranados@hotmail.com', '', 17),
	(32, 'Luis', 'Guzman', 'M', '51-28207192', '1979-01-10', 'luisguzman@hotmail.com', '', 14),
	(33, 'Katherine', 'Pacheco', 'F', '51-95130999', '1974-02-11', 'katherinepacheco@hotmail.com', '', 14),
	(34, 'Juan', 'Dominguez', 'M', '51-15107108', '1982-08-05', 'juandominguez@hotmail.com', '', 12),
	(35, 'Monica', 'Morales', 'F', '56-21839078', '2000-05-19', 'monicamorales@hotmail.com', '', 10),
	(36, 'Hilda', 'Jaramillo', 'F', '56-14882642', '1985-09-20', 'hildajaramillo@hotmail.com', '', 10),
	(37, 'Ana', 'Bedoya', 'F', '56-33513636', '1990-02-19', 'anabedoya@hotmail.com', '', 10),
	(38, 'Lucia', 'Malaga', 'F', '56-14853106', '1993-06-30', 'luciamalaga@hotmail.com', '', 9),
	(39, 'Milagros', 'Ramos', 'F', '56-86248587', '1985-04-30', 'milagrosramos@hotmail.com', '', 9),
	(40, 'Mildred', 'Bravo', 'F', '56-78529331', '1982-07-07', 'mildredbravo@hotmail.com', '', 10),
	(41, 'Beatriz', 'Zapato', 'F', '56-81619831', '1997-05-21', 'beatrizzapato@hotmail.com', '', 9),
	(42, 'Hector', 'Martinez', 'M', '56-75185077', '1990-12-14', 'hectormartinez@hotmail.com', '', 10),
	(43, 'Juana', 'Mendoza', 'F', '56-65478111', '1979-02-03', 'juanamendoza@hotmail.com', '', 10),
	(44, 'Raquel', 'Cruz', 'F', '51-51458370', '2000-08-31', 'raquelcruz@hotmail.com', '', 11),
	(45, 'Paola', 'Garcia', 'F', '51-49329882', '1997-03-21', 'paolagarcia@hotmail.com', '', 11),
	(46, 'Manuel', 'Flores', 'M', '51-22110803', '1973-01-14', 'manuelflores@hotmail.com', '', 12),
	(47, 'Alfredo', 'Calvo', 'M', '58-75275562', '1988-02-23', 'alfredocalvo@hotmail.com', '', 16),
	(48, 'Isabel', 'Flores', 'F', '58-34611898', '1972-03-04', 'isabelflores@hotmail.com', '', 18),
	(49, 'Efren', 'Mantilla', 'M', '58-66755237', '1983-03-20', 'efrenmantilla@hotmail.com', '', 15),
	(50, 'Flor', 'Castillo', 'F', '58-21973759', '1993-07-14', 'florcastillo@hotmail.com', '', 15),
	(51, 'Adriana', 'Canelo', 'F', '58-25925313', '1999-12-02', 'adrianacanelo@gmail.com', '', 18),
	(52, 'Reinaldo', 'Urbina', 'M', '58-45373471', '1991-10-27', 'reinaldourbina@gmail.com', '', 17),
	(53, 'Kate', 'Santana', 'F', '58-69898560', '1972-10-15', 'katesantana@gmail.com', '', 17),
	(54, 'Nelly', 'Matamoros', 'F', '58-67909971', '1994-06-19', 'nellymatamoros@gmail.com', '', 17),
	(55, 'Libia', 'Diaz', 'F', '54-91190450875', '1971-09-21', 'libiadiaz@gmail.com', '', 1),
	(56, 'Sofia', 'Herrera', 'F', '54-91188023820', '1983-02-15', 'sofiaherrera@gmail.com', '', 1),
	(57, 'Vanesa', 'Rojas', 'F', '51-39058592', '1987-01-02', 'vanesarojas@gmail.com', '', 11),
	(58, 'Carla', 'Alarcon', 'F', '51-90731059', '1973-11-28', 'carlaalarcon@gmail.com', '', 11),
	(59, 'Cesar', 'Salinas', 'M', '51-40796229', '1990-03-29', 'cesarsalinas@hotmail.com', '', 13),
	(60, 'Erika', 'Jaramillo', 'F', '51-77316511', '1982-06-29', 'erikajaramillo@hotmail.com', '', 13),
	(61, 'Alejandro', 'Flores', 'M', '51-37390624', '1977-02-03', 'alejandroflores@hotmail.com', '', 11),
	(62, 'Alejandra', 'Cabello', 'F', '51-53877996', '1987-02-19', 'alejandracabello@hotmail.com', '', 14),
	(63, 'Jesus', 'Belandria', 'M', '51-77206629', '1991-08-02', 'jesusbelandria@hotmail.com', '', 11),
	(64, 'Eugenia', 'Rodriguez', 'F', '51-80630229', '1994-12-10', 'eugeniarodriguez@hotmail.com', 'SG9sYTEyMyU=\n', 14),
	(65, 'Carol', 'Paz', 'F', '51-46764183', '1978-12-01', 'carolpaz@hotmail.com', 'SG9sYTEyMyU=\n', 13),
	(66, 'Roberth', 'Sanchez', 'M', '54-91125458578', '1986-05-24', 'roberthsanchez@gmail.com', 'SG9sYTEyMyU=\n', 5),
	(99, 'Adrian', 'Souto', 'M', '1545632589', '1970-06-06', 'adrias@gmail.com', 'SG9sYTEyMyU=\n', 6),
	(100, 'Maria', 'Nobile', 'F', '1545631235', '1983-04-08', 'marian@gmail.com', 'SG9sYTEyMyU=\n', 4),
	(101, 'Nora', 'Matlob', 'F', '1525874578', '1960-04-07', 'noram@gmail.com', 'SG9sYTEyMyU=\n', 6),
	(104, 'Paula', 'Sou', 'F', '1587842523', '1987-05-05', 'pausoy@gmail.com', 'SG9sYTEyMyU=\n', 11);
/*!40000 ALTER TABLE `usuario` ENABLE KEYS */;

-- Volcando estructura para vista tp_ecommerce.usuariosporpais
-- Creando tabla temporal para superar errores de dependencia de VIEW
CREATE TABLE `usuariosporpais` (
	`nombre` VARCHAR(15) NOT NULL COLLATE 'utf8mb4_general_ci',
	`Usuarios por Pais` BIGINT(21) NOT NULL
) ENGINE=MyISAM;

-- Volcando estructura para vista tp_ecommerce.usuariosxsexo
-- Creando tabla temporal para superar errores de dependencia de VIEW
CREATE TABLE `usuariosxsexo` (
	`apellido` VARCHAR(20) NOT NULL COLLATE 'utf8mb4_general_ci',
	`nombre` VARCHAR(20) NOT NULL COLLATE 'utf8mb4_general_ci',
	`sexo` VARCHAR(15) NOT NULL COLLATE 'utf8mb4_general_ci'
) ENGINE=MyISAM;

-- Volcando estructura para vista tp_ecommerce.productosdemujer
-- Eliminando tabla temporal y crear estructura final de VIEW
DROP TABLE IF EXISTS `productosdemujer`;
CREATE ALGORITHM=UNDEFINED SQL SECURITY DEFINER VIEW `productosdemujer` AS SELECT producto.nombre AS 'Producto', categoria.nombre AS 'Categoria' FROM producto
INNER JOIN categoria ON categoria.Id_categoria=producto.Id_categoria 
WHERE categoria.nombre LIKE ('%Mujer%') ;

-- Volcando estructura para vista tp_ecommerce.productos_venta
-- Eliminando tabla temporal y crear estructura final de VIEW
DROP TABLE IF EXISTS `productos_venta`;
CREATE ALGORITHM=UNDEFINED SQL SECURITY DEFINER VIEW `productos_venta` AS SELECT producto.Id_producto, producto.descripcion, producto.nombre AS 'Nombre del Producto', marca.nombre AS 'Marca', producto.precio FROM producto
INNER JOIN marca ON marca.Id_marca=producto.Id_marca
ORDER BY producto.Id_producto ;

-- Volcando estructura para vista tp_ecommerce.usuariosporpais
-- Eliminando tabla temporal y crear estructura final de VIEW
DROP TABLE IF EXISTS `usuariosporpais`;
CREATE ALGORITHM=UNDEFINED SQL SECURITY DEFINER VIEW `usuariosporpais` AS SELECT pais.nombre, COUNT(usuario.Id_usuario) AS 'Usuarios por Pais' FROM pais
INNER JOIN provincia ON pais.Id_pais=provincia.Id_pais
INNER JOIN localidad ON provincia.Id_provincia=localidad.Id_provincia
INNER JOIN usuario ON localidad.Id_localidad=usuario.Id_localidad
GROUP BY pais.nombre
ORDER BY COUNT(usuario.Id_usuario) DESC ;

-- Volcando estructura para vista tp_ecommerce.usuariosxsexo
-- Eliminando tabla temporal y crear estructura final de VIEW
DROP TABLE IF EXISTS `usuariosxsexo`;
CREATE ALGORITHM=UNDEFINED SQL SECURITY DEFINER VIEW `usuariosxsexo` AS SELECT usuario.apellido, usuario.nombre, usuario.sexo FROM usuario
ORDER BY usuario.apellido ;

/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IFNULL(@OLD_FOREIGN_KEY_CHECKS, 1) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40111 SET SQL_NOTES=IFNULL(@OLD_SQL_NOTES, 1) */;
